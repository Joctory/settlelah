function isDesktopMode(){return window.matchMedia("(min-width: 1100px)").matches}function showShareModal(e){function t(){if(e&&memberData[e]){const t=memberData[e],a=isDesktopMode();if(s.textContent=`Settle Detail - ${e}`,a){n.classList.add("desktop-mode");const e="singapore"===t.taxProfile;r.innerHTML=`\n          <div class="desktop-layout">\n            <div class="member-bill-modal-details modal-fade-in">\n              <div style="text-align: center;">\n                <h2 class="member-bill-title">Settle Detail</h2>\n                <h1 class="member-bill-amount">${t.totalAmount}</h1>\n              </div>\n              \n              <hr class="member-bill-divider">\n              \n              <h3 class="member-bill-section-title">Items</h3>\n              <div class="animate-staggered">\n                ${t.items.map((e,n)=>`\n                  <div class="member-bill-item-container">\n                    <div class="member-bill-row">\n                      <span class="member-bill-row-label">Item Name</span>\n                      <span class="member-bill-row-value">${e.name}</span>\n                    </div>\n                    <div class="member-bill-row">\n                      <span class="member-bill-row-label">Shared With</span>\n                      <div class="shared-with-container">${e.sharedWith||"-"}</div>\n                    </div>\n                    <div class="member-bill-row">\n                      <span class="member-bill-row-label">Item Price</span>\n                      <span class="member-bill-row-value">${e.price}</span>\n                    </div>\n                    <div class="member-bill-row">\n                      <span class="member-bill-row-label">Price Per Person</span>\n                      <span class="member-bill-row-value">\n                        ${(()=>{const t=e.sharedWith?(e.sharedWith.match(/<span class="shared-member">/g)||[]).length+1:1,n=parseFloat(e.price.replace("$","")),a=(n/t).toFixed(2);return 1===t?`$${a}`:`$${a} <span class="people-count">(รท${t} Incl. You)</span>`})()}\n                      </span>\n                    </div>\n                    ${n<t.items.length-1?'<hr class="member-bill-divider">':""}\n                  </div>\n                `).join("")}\n              </div>\n              \n              <hr class="member-bill-solid-divider">\n              \n              <h3 class="member-bill-section-title">Amount Breakdown</h3>\n              <div class="total-section animate-staggered">\n                <div class="member-bill-row">\n                  <span class="member-bill-row-label">Subtotal</span>\n                  <span class="member-bill-row-value">${t.breakdown.subtotal}</span>\n                </div>\n                ${parseFloat(t.breakdown.serviceCharge.replace("$",""))>0?`\n                  <div class="member-bill-row">\n                    <span class="member-bill-row-label">Service Charge (${t.serviceChargeRate})</span>\n                    <span class="member-bill-row-value">${t.breakdown.serviceCharge}</span>\n                  </div>\n                  <div class="member-bill-row">\n                    <span class="member-bill-row-label">After Service</span>\n                    <span class="member-bill-row-value">${t.breakdown.afterService}</span>\n                  </div>\n                  `:""}\n                ${parseFloat(t.breakdown.discount.replace("$",""))>0?`\n                  <div class="member-bill-row">\n                    <span class="member-bill-row-label">Discount</span>\n                    <span class="member-bill-row-value">${t.breakdown.discount}</span>\n                  </div>\n                  <div class="member-bill-row">\n                    <span class="member-bill-row-label">After Discount</span>\n                    <span class="member-bill-row-value">${t.breakdown.afterDiscount}</span>\n                  </div>\n                  `:""}\n                ${parseFloat(t.breakdown.gst.replace("$",""))>0?`\n                  <div class="member-bill-row">\n                    <span class="member-bill-row-label">GST (${"singapore"===t.taxProfile?"9%":"malaysia"===t.taxProfile?"6%":"9%"})</span>\n                    <span class="member-bill-row-value">${t.breakdown.gst}</span>\n                  </div>\n                  `:""}\n              </div>\n            </div>\n            \n            <div class="paynow-section modal-fade-in">\n              <h2 class="paynow-title">Please Transfer to</h2>\n              ${e?`\n                <div class="paynow-qr-container" id="paynow-qr-container">\n                  <img src="https://www.sgqrcode.com/paynow?mobile=${t.paymentInfo.phoneNumber}&uen=&editable=1&amount=${t.paymentInfo.amount.replace("$","")}&expiry=${(new Date).toISOString().split("T")[0].replace(/-/g,"%2F")}%2023%3A59&ref_id=SettleLah-${t.paymentInfo.name+"%20"+t.paymentInfo.settleMatter||"SettleLah"}&company=" alt="PayNow QR Code" class="desktop-qr-code">\n                </div>\n                \n                <div class="paynow-instructions">\n                  <p>Please pay <b class="paynow-amount">${t.paymentInfo.amount}</b> to <b class="paynow-name">${t.paymentInfo.name} (${t.paymentInfo.phoneNumber})</b>.</p>\n                  <p>Scan the QR code to complete transfer or copy the phone number to start transfer.</p>\n                </div>\n                \n                <button id="copyPhoneBtn" class="action-button secondary-button">\n                  Copy Phone Number\n                </button>\n                `:`\n                <div class="paynow-instructions">\n                  <p>Please pay <b class="paynow-amount">${t.paymentInfo.amount}</b> to <b class="paynow-name">${t.paymentInfo.name} (${t.paymentInfo.phoneNumber})</b> using DuitNow payment method.</p>\n                </div>\n                \n                <button id="copyPhoneBtn" class="action-button secondary-button">\n                  Copy Phone Number\n                </button>\n                `}\n            </div>\n          </div>\n        `;const a=document.getElementById("copyPhoneBtn");a&&a.addEventListener("click",()=>{navigator.clipboard.writeText(t.paymentInfo.phoneNumber).then(()=>{const e=document.createElement("div");e.textContent="Phone number copied!",e.className="toast-notification",document.body.appendChild(e),setTimeout(()=>{e.classList.add("toast-fadeout"),setTimeout(()=>{document.body.removeChild(e)},500)},2e3)}).catch(e=>{console.error("Failed to copy phone number: ",e)})})}else{n.classList.remove("desktop-mode"),r.innerHTML=`\n          <div class="member-bill-modal-details modal-fade-in">\n            <div style="text-align: center;">\n              <h2 class="member-bill-title">Settle Detail</h2>\n              <h1 class="member-bill-amount">${t.totalAmount}</h1>\n            </div>\n            \n            <hr class="member-bill-divider">\n            \n            <h3 class="member-bill-section-title">Items</h3>\n            <div class="animate-staggered">\n              ${t.items.map((e,n)=>`\n                <div class="member-bill-item-container">\n                  <div class="member-bill-row">\n                    <span class="member-bill-row-label">Item Name</span>\n                    <span class="member-bill-row-value">${e.name}</span>\n                  </div>\n                  <div class="member-bill-row">\n                    <span class="member-bill-row-label">Shared With</span>\n                    <div class="shared-with-container">${e.sharedWith||"-"}</div>\n                  </div>\n                  <div class="member-bill-row">\n                    <span class="member-bill-row-label">Item Price</span>\n                    <span class="member-bill-row-value">${e.price}</span>\n                  </div>\n                  <div class="member-bill-row">\n                    <span class="member-bill-row-label">Price Per Person</span>\n                    <span class="member-bill-row-value">\n                      ${(()=>{const t=e.sharedWith?(e.sharedWith.match(/<span class="shared-member">/g)||[]).length+1:1,n=parseFloat(e.price.replace("$","")),a=(n/t).toFixed(2);return 1===t?`$${a}`:`$${a} <span class="people-count">(รท${t} Incl. You)</span>`})()}\n                    </span>\n                  </div>\n                  ${n<t.items.length-1?'<hr class="member-bill-divider">':""}\n                </div>\n              `).join("")}\n            </div>\n            \n            <hr class="member-bill-solid-divider">\n            \n            <h3 class="member-bill-section-title">Amount Breakdown</h3>\n            <div class="total-section animate-staggered">\n              <div class="member-bill-row">\n                <span class="member-bill-row-label">Subtotal</span>\n                <span class="member-bill-row-value">${t.breakdown.subtotal}</span>\n              </div>\n              ${parseFloat(t.breakdown.serviceCharge.replace("$",""))>0?`\n                <div class="member-bill-row">\n                  <span class="member-bill-row-label">Service Charge (${t.serviceChargeRate})</span>\n                  <span class="member-bill-row-value">${t.breakdown.serviceCharge}</span>\n                </div>\n                <div class="member-bill-row">\n                  <span class="member-bill-row-label">After Service</span>\n                  <span class="member-bill-row-value">${t.breakdown.afterService}</span>\n                </div>\n                `:""}\n              ${parseFloat(t.breakdown.discount.replace("$",""))>0?`\n                <div class="member-bill-row">\n                  <span class="member-bill-row-label">Discount</span>\n                  <span class="member-bill-row-value">${t.breakdown.discount}</span>\n                </div>\n                <div class="member-bill-row">\n                  <span class="member-bill-row-label">After Discount</span>\n                  <span class="member-bill-row-value">${t.breakdown.afterDiscount}</span>\n                </div>\n                `:""}\n              ${parseFloat(t.breakdown.gst.replace("$",""))>0?`\n                <div class="member-bill-row">\n                  <span class="member-bill-row-label">GST (${"singapore"===t.taxProfile?"9%":"malaysia"===t.taxProfile?"6%":"9%"})</span>\n                  <span class="member-bill-row-value">${t.breakdown.gst}</span>\n                </div>\n                `:""}\n            </div>\n          </div>\n          \n          <button id="showPayNowBtn" class="action-button primary-button modal-fade-in" style="animation-delay: 0.3s;">\n            Show PayNow QR Code\n          </button>\n        `;const a=document.getElementById("showPayNowBtn");a&&a.addEventListener("click",()=>{showPayNowQR(e)})}n.offsetHeight}}const n=document.getElementById("memberbillModal"),a=document.getElementById("memberbillOverlay"),o=document.querySelector(".member-close-modal"),s=document.querySelector(".member-bill-modal .modal-header h2"),r=document.querySelector(".member-bill-modal-body");r.children.length>0?(Array.from(r.children).forEach(e=>{e.classList.add("modal-fade-out")}),setTimeout(()=>{t()},300)):t(),window.addEventListener("resize",t),n.classList.add("active"),a.classList.add("active"),o&&(o.onclick=closeShareModal),a.onclick=closeShareModal}function showPayNowQR(e){if(isDesktopMode())return;const t=document.querySelector(".member-bill-modal-body"),n=document.querySelector(".member-bill-modal .modal-header h2"),a=memberData[e];Array.from(t.children).forEach(e=>{e.classList.add("modal-fade-out")}),setTimeout(()=>{n.textContent=`PayNow - ${e}`;const o="singapore"===a.taxProfile;t.innerHTML=`\n      <div class="paynow-container modal-fade-in">\n        ${o?`\n        <div class="paynow-qr-container" id="paynow-qr-container">\n          <!-- QR code will be generated here -->\n          <img src="https://www.sgqrcode.com/paynow?mobile=${a.paymentInfo.phoneNumber}&uen=&editable=1&amount=${a.paymentInfo.amount.replace("$","")}&expiry=${(new Date).toISOString().split("T")[0].replace(/-/g,"%2F")}%2023%3A59&ref_id=${e+"%20-%20SettleLah!%20Bill"}&company=" alt="PayNow QR Code">\n        </div>\n        \n        <div class="paynow-instructions" style="animation-delay: 0.2s;">\n          <p> Please pay <b class="paynow-amount">${a.paymentInfo.amount}</b> to <b class="paynow-name" >${a.paymentInfo.name} (${a.paymentInfo.phoneNumber})</b>.</p>\n          <p>Scan the QR code to complete transfer or copy the phone number to start transfer.</p>\n        </div>\n        \n        <button id="copyPhoneBtn" class="action-button secondary-button modal-fade-in" style="animation-delay: 0.3s;">\n          Copy Phone Number\n        </button>\n        `:`\n        <div class="paynow-instructions" style="animation-delay: 0.2s;">\n          <p>PayNow is only available in Singapore.</p>\n          <p>Please pay <b class="paynow-amount">${a.paymentInfo.amount}</b> to <b class="paynow-name" >${a.paymentInfo.name} (${a.paymentInfo.phoneNumber})</b> using another payment method.</p>\n        </div>\n        \n        <button id="copyPhoneBtn" class="action-button secondary-button modal-fade-in" style="animation-delay: 0.3s;">\n          Copy Phone Number\n        </button>\n        `}\n      </div>\n      \n      <button id="backToDetailBtn" class="action-button primary-button margin-top modal-fade-in" style="animation-delay: 0.4s;">\n        Back to Detail\n      </button>\n    `;const s=document.getElementById("copyPhoneBtn"),r=document.getElementById("backToDetailBtn");s&&s.addEventListener("click",()=>{navigator.clipboard.writeText(a.paymentInfo.phoneNumber).then(()=>{const e=document.createElement("div");e.textContent="Phone number copied!",e.className="toast-notification",document.body.appendChild(e),setTimeout(()=>{e.classList.add("toast-fadeout"),setTimeout(()=>{document.body.removeChild(e)},500)},2e3)}).catch(e=>{console.error("Failed to copy phone number: ",e)})}),r&&r.addEventListener("click",()=>{showShareModal(e)})},300)}function closeShareModal(){const e=document.getElementById("memberbillModal"),t=document.getElementById("memberbillOverlay");e.style.transition="bottom 0.3s ease-in",e.style.bottom="-100%",t.style.transition="opacity 0.3s ease-in",t.style.opacity="0",setTimeout(()=>{e.classList.remove("active"),t.classList.remove("active"),e.style.transition="",e.style.bottom="",t.style.transition="",t.style.opacity=""},300)}function roundToNearest5Cents(e){"string"==typeof e&&(e=parseFloat(e)),e=parseFloat(e.toFixed(2));const t=Math.floor(e),n=e-t,a=Math.round(100*n),o=a%10;if(o<5){const t=e-o/100;return t.toFixed(2)}if(5===o)return e.toFixed(2);{const t=10*Math.ceil(a/10),n=(t-a)/100,o=e+n;return o.toFixed(2)}}function renderBillData(e){const t=(e,t=!1,n=!0)=>{const a="number"==typeof e?e:parseFloat(e);return t&&n?`$${roundToNearest5Cents(a)}`:`$${a.toFixed(2)}`},n=e.timestamp,a=new Date(n),o=a.toLocaleDateString("en-SG",{year:"numeric",month:"short",day:"numeric"}),s=a.toLocaleTimeString("en-SG",{hour:"2-digit",minute:"2-digit",hour12:!0}),r=document.getElementById("successReceipt");if(!r)return;const l=document.querySelector(".successSettleMatter"),i=document.querySelector(".successDateTime"),c=document.querySelector(".successItemCount"),d=document.querySelector(".successSubtotal"),m=document.querySelector(".successServiceCharge"),u=document.querySelector(".serviceChargeRow"),b=document.querySelector(".serviceChargeRate"),p=document.querySelector(".successAfterService"),y=document.querySelector(".afterServiceRow"),h=document.querySelector(".successDiscount"),v=document.querySelector(".discountRow"),w=document.querySelector(".successAfterDiscount"),f=document.querySelector(".afterDiscountRow"),g=document.querySelector(".successGST"),$=document.querySelector(".gstRow"),C=document.querySelector(".gstRate"),S=document.querySelector(".successAmount"),k=document.querySelector(".successOriginalAmount"),L=document.querySelector(".originalAmountRow");if(l&&(l.textContent=e.settleMatter?e.settleMatter:"No One Ask!"),i&&(i.textContent=o+" "+s),c&&(c.textContent=e.dishes?e.dishes.length:0),d&&(d.textContent=t(e.breakdown.subtotal)),e.settleMatter?document.title=`SettleLah - ${e.settleMatter} Bill Details`:document.title="SettleLah - No One Ask! Bill Details",m&&u&&(e.breakdown.serviceCharge>0?(m.textContent=t(e.breakdown.serviceCharge),u.style.display="",b&&(b.textContent=e.serviceChargeRate)):u.style.display="none"),p&&y&&(e.breakdown.serviceCharge>0?(p.textContent=t(e.breakdown.afterService),y.style.display=""):y.style.display="none"),h&&v&&(e.breakdown.discountAmount>0?(h.textContent=t(e.breakdown.discountAmount),v.style.display=""):v.style.display="none"),w&&f&&(e.breakdown.discountAmount>0?(w.textContent=t(e.breakdown.afterDiscount),f.style.display=""):f.style.display="none"),g&&$&&(e.breakdown.gst>0?(g.textContent=t(e.breakdown.gst),$.style.display="",C&&(C.textContent=e.gstRate||"9%")):$.style.display="none"),k&&L&&S){const t=e.breakdown.total.toFixed(2),n=roundToNearest5Cents(t);t!==n?(k.textContent=`$${t}`,L.style.display="",S.textContent=n):(L.style.display="none",S.textContent=n)}else S&&(S.textContent=roundedTotal);createMemberData(e),e.members&&Array.isArray(e.members)&&updateGroupMembers(e.members)}function createMemberData(e){if(memberData={},!e.members||!e.perPersonBreakdown||!e.dishes)return;const t=(e,t=!1,n=!1)=>{const a="number"==typeof e?e:parseFloat(e);return t&&n?`$${roundToNearest5Cents(a)}`:`$${a.toFixed(2)}`};e.members.forEach(n=>{const a=n.name,o=e.perPersonBreakdown[a];if(!o)return;const s=e.dishes.filter(e=>e.members.includes(a)).map(e=>({name:e.name,price:t(e.cost),sharedWith:e.members.filter(e=>e!==a).map(e=>`<span class="shared-member">${e}</span>`).join("")})),r=e.totals[a],l=roundToNearest5Cents(r),i=r!==l;memberData[a]={taxProfile:e.taxProfile||"singapore",serviceChargeRate:e.serviceChargeRate||"10%",originalAmount:i?t(r):null,totalAmount:t(r,!0),items:s,breakdown:{subtotal:t(o.subtotal),serviceCharge:t(o.serviceCharge),afterService:t(o.afterService),discount:t(o.discountAmount),afterDiscount:t(o.afterDiscount),gst:t(o.gst)},paymentInfo:{originalAmount:i?t(r):null,amount:t(r,!0),phoneNumber:e.paynowID||"",name:e.paynowName||"",settleMatter:e.settleMatter||"",uen:"N/A"}}})}function updateGroupMembers(e){function t(){if(o--,0===o&&a){a.style.opacity="1",a.style.transition="opacity 0.5s ease";const e=document.getElementById("bill-content"),t=document.getElementById("bill-content");e&&(e.classList.add("visible"),setTimeout(()=>{t&&t.classList.add("ready")},4500));const n=document.getElementById("loading");n.classList.add("fade-out"),n.classList.add("hidden")}}const n=document.getElementById("groupMembers");if(!n)return;n.innerHTML="";const a=document.querySelector(".favourite-group-section");a&&(a.style.opacity="0");let o=e.length;e.forEach((e,a)=>{const o=document.createElement("div");o.className="member-avatar-wrapper",o.setAttribute("data-name",e.name);const s=.4+.2*a;o.style.animation=`fadeInUp 0.4s ${s}s ease forwards`;const r=e.avatar||Math.floor(9*Math.random())+1;o.innerHTML=`\n      <div class="member-avatar">\n        <img src="/assets/cat-icon/cat-${r}.svg" alt="Cat avatar" class="cat-avatar-img" />\n      </div>\n      <div class="member-name">${e.name}</div>\n    `;const l=new Image;l.onload=t,l.onerror=t,l.src=`/assets/cat-icon/cat-${r}.svg`,o.addEventListener("click",function(){showShareModal(e.name)}),n.appendChild(o)})}function showError(e,t="generic"){const n=document.getElementById("loading");n.classList.add("fade-out"),setTimeout(()=>{n.classList.add("hidden");const a=document.getElementById("error-message");a.textContent=e;const o=document.getElementById("error-retry-btn");"expired"===t?(o.textContent="Return to Home",o.onclick=(()=>window.location.href="/")):"invalid"===t?(o.textContent="Return to Home",o.onclick=(()=>window.location.href="/")):(o.textContent="Try Again",o.onclick=(()=>window.location.reload()));const s=document.getElementById("error-container");s.classList.add("visible");const r=document.getElementById("bill-content"),l=document.getElementById("bill-content-footer");r&&r.classList.contains("visible")&&r.classList.remove("visible"),l&&l.classList.contains("visible")&&l.classList.remove("visible")},300)}function isRunningAsPWA(){return window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone}document.addEventListener("touchstart",function(e){e.touches.length>1&&(e.preventDefault(),e.stopPropagation())},{passive:!1}),document.addEventListener("gesturestart",function(e){e.preventDefault()},{passive:!1}),function(){const e=window.matchMedia("(prefers-color-scheme: dark)"),t=localStorage.getItem("theme");let n=t||(e.matches?"dark":"light");const a=e=>{const t="dark"===e;t?(document.body.classList.add("dark-mode"),document.documentElement.classList.add("dark-mode")):(document.body.classList.remove("dark-mode"),document.documentElement.classList.remove("dark-mode")),localStorage.setItem("theme",e),n=e};a(n),e.addEventListener("change",e=>{localStorage.getItem("theme")||a(e.matches?"dark":"light")}),document.addEventListener("DOMContentLoaded",function(){function e(){t.innerHTML="dark"===n?'<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path fill-rule="evenodd" clip-rule="evenodd" d="M12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16ZM12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z" fill="currentColor"/>\n            <path fill-rule="evenodd" clip-rule="evenodd" d="M11 0H13V4.06189C12.6724 4.02104 12.3387 4 12 4C11.6613 4 11.3276 4.02104 11 4.06189V0ZM7.0943 5.68018L4.22173 2.80761L2.80752 4.22183L5.68008 7.09439C6.07016 6.55685 6.55674 6.07027 7.0943 5.68018ZM4.06189 11H0V13H4.06189C4.02104 12.6724 4 12.3387 4 12C4 11.6613 4.02104 11.3276 4.06189 11ZM5.68008 16.9056L2.80751 19.7782L4.22173 21.1924L7.0943 18.3198C6.55674 17.9297 6.07016 17.4431 5.68008 16.9056ZM11 19.9381V24H13V19.9381C12.6724 19.979 12.3387 20 12 20C11.6613 20 11.3276 19.979 11 19.9381ZM16.9056 18.3199L19.7781 21.1924L21.1923 19.7782L18.3198 16.9057C17.9297 17.4432 17.4431 17.9298 16.9056 18.3199ZM19.9381 13H24V11H19.9381C19.979 11.3276 20 11.6613 20 12C20 12.3387 19.979 12.6724 19.9381 13ZM18.3198 7.0943L21.1923 4.22183L19.7781 2.80762L16.9056 5.68008C17.4431 6.07016 17.9297 6.55674 18.3198 7.0943Z" fill="currentColor"/>\n           </svg>':'<img src="/assets/moon.svg" alt="Moon" width="20" height="20">'}const t=document.createElement("button");t.setAttribute("id","theme-toggle"),t.setAttribute("aria-label","Toggle dark mode"),e(),t.addEventListener("click",function(){const t="dark"===n?"light":"dark";a(t),e()}),document.body.appendChild(t)})}();let memberData={};document.addEventListener("DOMContentLoaded",function(){document.getElementById("error-container").classList.remove("visible"),document.getElementById("loading").classList.remove("hidden");const e=window.location.pathname.split("/"),t=e[e.length-1];if(!t)return void showError("No bill ID found in URL","invalid");const n=/^[a-z0-9]+-[a-z0-9]+-[a-z0-9]+$/i;if(!n.test(t))return void showError("Invalid bill ID format","invalid");fetch(`/result/${t}`,{headers:{Accept:"application/json"}}).then(e=>{if(410===e.status)throw new Error("This bill has expired",{cause:"expired"});if(400===e.status)throw new Error("Invalid bill ID format",{cause:"invalid"});if(!e.ok)throw new Error("Bill not found or error fetching data");return e.json()}).then(e=>{setTimeout(()=>{renderBillData(e)},300)}).catch(e=>{const t=e.cause||"generic";showError(e.message,t)});const a=document.querySelectorAll(".member-avatar-wrapper"),o=document.querySelector(".drag-instructions");o&&o.classList.remove("animate-pulse"),a.forEach(e=>{e.addEventListener("click",function(){const e=this.getAttribute("data-name");showShareModal(e)})})}),window.onload=function(){const e=document.querySelector(".terminal-img"),t=document.querySelector(".terminal-img-top"),n=document.getElementById("successReceipt"),a=document.querySelector(".favourite-group-section"),o=document.querySelector(".success-footer-text-title"),s=document.querySelector(".settings-footer");n&&(n.style.animation="receipt 3s ease both"),e&&(e.style.animation="slideup 0.5s 4s ease both"),t&&(t.style.animation="slideup 0.5s 4s ease both"),a&&(a.style.opacity="1"),o&&(o.style.animation="fadeInUp 0.5s 0.2s ease forwards"),s&&(s.style.animation="fadeInUp 0.5s 0.4s ease forwards");const r=document.querySelectorAll(".member-avatar-wrapper");r.forEach((e,t)=>{e.style.animation=`fadeInUp 0.4s ${.4+.2*t}s ease forwards`})},document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".copyrightYear");e&&(e.textContent=(new Date).getFullYear())}),window.onload=function(){isRunningAsPWA()&&(document.body.style.height="100vh")};